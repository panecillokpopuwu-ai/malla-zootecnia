<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Malla Curricular Zootecnia</title>

<style>
body{
  font-family: Arial, sans-serif;
  background:#f6f6f6;
  padding:20px;
}

.malla{
  display:grid;
  grid-template-columns: repeat(10, 1fr);
  gap:12px;
}

.ciclo{
  background:#ffffff;
  border-radius:8px;
  padding:10px;
}

.ciclo h3{
  text-align:center;
  font-size:14px;
  margin-bottom:8px;
}

.curso{
  background:#e9e9e9;
  border-radius:6px;
  padding:6px;
  margin-bottom:6px;
  font-size:12px;
  cursor:pointer;
}

.curso small{
  display:block;
  font-size:10px;
}

.curso.aprobado{
  background:#b9e7c4;
}

.curso.cursando{
  background:#ffe3a3;
}

.curso.bloqueado{
  background:#d3d3d3;
  opacity:0.5;
  cursor:not-allowed;
}
</style>
</head>

<body>

<h2>Malla Curricular – Zootecnia</h2>

<div class="malla">

<!-- CICLO 1 -->
<div class="ciclo">
  <h3>Ciclo 1</h3>
  <div class="curso aprobado" data-id="mate1">Matemática Básica<small>4 créditos</small></div>
  <div class="curso aprobado" data-id="quimica">Química General<small>4 créditos</small></div>
</div>

<!-- CICLO 2 -->
<div class="ciclo">
  <h3>Ciclo 2</h3>
  <div class="curso bloqueado" data-id="mate2" data-req="mate1">Matemática II<small>4 créditos</small></div>
  <div class="curso bloqueado" data-id="organica" data-req="quimica">Química Orgánica<small>4 créditos</small></div>
</div>

<!-- CICLO 3 -->
<div class="ciclo">
  <h3>Ciclo 3</h3>
  <div class="curso bloqueado" data-id="bio" data-req="organica">Biología<small>3 créditos</small></div>
</div>

<!-- CICLO 4 -->
<div class="ciclo">
  <h3>Ciclo 4</h3>
  <div class="curso bloqueado" data-id="fisiologia" data-req="bio">Fisiología Animal<small>4 créditos</small></div>
</div>

</div>

<script>
const cursos = document.querySelectorAll(".curso");

function recalcularMalla(){
  cursos.forEach(curso=>{
    const req = curso.dataset.req;
    if(!req) return;

    const requisitos = req.split(",");
    const desbloqueado = requisitos.every(r=>{
      const cursoReq = document.querySelector(`[data-id="${r}"]`);
      return cursoReq && cursoReq.classList.contains("aprobado");
    });

    if(desbloqueado){
      curso.classList.remove("bloqueado");
    }else{
      curso.classList.add("bloqueado");
      curso.classList.remove("aprobado","cursando");
    }
  });
}

cursos.forEach(curso=>{
  curso.addEventListener("click",()=>{
    if(curso.classList.contains("bloqueado")) return;

    curso.classList.toggle("aprobado");
    curso.classList.remove("cursando");
    recalcularMalla();
  });

  curso.addEventListener("dblclick",()=>{
    if(curso.classList.contains("bloqueado")) return;

    curso.classList.toggle("cursando");
    curso.classList.remove("aprobado");
  });
});

recalcularMalla();
</script>

</body>
</html>
